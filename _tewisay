#compdef tewisay tewithink

local context state line
typeset -A opt_args

_arguments \
  '-e:eye string:' \
  '-f:cowfile:->cowfile' \
  '-b:cowline:->cowline' \
  '-T:tongue string:' \
  '-h[help]' \
  '-l[list]' \
  ':message:' && return 0

case "$state" in
  (cowfile)
  compadd ${=${(f)"$($service -l 2>/dev/null)"}:#*\:} || _files
  ;;
  (cowline)
  compadd ${=${(f)"$($service -lb 2>/dev/null)"}:#*\:}
  ;;
esac
